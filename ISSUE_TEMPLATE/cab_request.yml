# .github/ISSUE_TEMPLATE/cab_request.yml

name: '🚀 CAB Change Request'
description: 'Formal request for a deployment to production.'
title: 'CAB Request: Release [VERSION] - [YYYY-MM-DD]'
labels: ['cab-review', 'release']
body:
  - type: markdown
    attributes:
      value: "Please fill out this template completely to ensure a smooth and fast review process."
  - type: input
    id: business-justification
    attributes:
      label: 🎯 Business Justification
      description: "What is the primary goal of this release? What business value does it deliver?"
      placeholder: "Launch the new user dashboard to improve customer engagement."
    validations:
      required: true
  - type: input
    id: deployment-date
    attributes:
      label: 🗓️ Proposed Deployment Date
      placeholder: "YYYY-MM-DD"
    validations:
      required: true
  - type: textarea
    id: included-prs
    attributes:
      label: 🔗 Included Pull Requests
      description: "List all merged Pull Requests that are part of this release."
      placeholder: |
        - #123: Brief description of PR
        - #125: Brief description of PR
    validations:
      required: true
  - type: dropdown
    id: sox-impact
    attributes:
      label: ⚠️ Does this release impact SOX-relevant systems?
      description: "Does this affect billing, financial reporting, user access controls, etc.?"
      options:
        - "No"
        - "Yes"
      default: 0
    validations:
      required: true
  - type: textarea
    id: controls-testing
    attributes:
      label: 🛡️ Internal Controls Testing
      description: "If you answered 'Yes' above, describe how internal controls were tested and verified."
      placeholder: "Tested that only users with the 'Admin' role can access the new reporting page."
  - type: markdown
    attributes:
      value: "---"
  - type: checkboxes
    id: approval-checklist
    attributes:
      label: ✅ Final Approval Checklist
      description: "This section is to be completed by the CAB."
      options:
        - label: "Approved for Deployment"
